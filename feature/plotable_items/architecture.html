<!doctype html>
<html class="no-js" lang="en" data-content_root="">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="Data reference" href="data_reference.html" /><link rel="prev" title="Examples" href="examples.html" />

    <link rel="shortcut icon" href="_static/favicon.ico"/><!-- Generated with Sphinx 7.1.2 and Furo 2023.09.10 -->
        <title>Architecture - MESMO</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=362ab14a" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=36a5483c" />
    <link rel="stylesheet" type="text/css" href="_static/css/custom.css?v=ecafd8be" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">MESMO</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><div class="sidebar-scroll"><a class="sidebar-brand" href="index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="_static/mesmo_icon.png" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">MESMO</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">User guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Architecture</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="data_reference.html">Data reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_reference.html">API reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration_reference.html">Configuration reference</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="change_log.html">Change log</a></li>
<li class="toctree-l1"><a class="reference internal" href="publications.html">Publications</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/mesmo-dev/mesmo/blob/develop/LICENSE">License</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/mesmo-dev/mesmo">GitHub repository</a></li>
</ul>

</div>
    <div class="sidebar-tree">
        <ul>
            <li class="toctree-l1 has-children" data-children-count="1">
                <a style="font-size: var(--sidebar-caption-font-size); font-weight: 700; text-transform: uppercase;color: var(--color-sidebar-caption-text); pointer-events: none" class="reference">Versions</a>
                <input class="toctree-checkbox" id="toctree-checkbox-tags" name="toctree-checkbox-tags" type="checkbox"><label for="toctree-checkbox-tags"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label>
                <ul style="font-size: var(--font-size--small--2);">
                    <li class="toctree-l1 current current-page"><a class="current reference internal" href="architecture.html">feature/plotable_items</a></li>
                        
                            <li class="toctree-l1"><a class="reference internal" href="../../0.5.0/architecture.html">0.5.0</a></li>
                        
                        
                            <li class="toctree-l1"><a class="reference internal" href="../../v0.3.0/architecture.html">v0.3.0</a></li>
                        
                        
                            <li class="toctree-l1"><a class="reference internal" href="../../v0.4.0/index.html">v0.4.0</a></li>
                        
                        
                            <li class="toctree-l1"><a class="reference internal" href="../../v0.4.1/index.html">v0.4.1</a></li>
                        
                        
                            <li class="toctree-l1"><a class="reference internal" href="../../develop/architecture.html">develop</a></li>
                        
                        
                            <li class="toctree-l1"><a class="reference internal" href="../biogas_model/architecture.html">feature/biogas_model</a></li>
                        
                        
                            <li class="toctree-l1"><a class="reference internal" href="../bscs-model/architecture.html">feature/bscs-model</a></li>
                        
                        
                            <li class="toctree-l1"><a class="reference internal" href="../dlmp_analysis/index.html">feature/dlmp_analysis</a></li>
                        
                        
                            <li class="toctree-l1"><a class="reference internal" href="../docs/architecture.html">feature/docs</a></li>
                        
                        
                            <li class="toctree-l1"><a class="reference internal" href="../dro/architecture.html">feature/dro</a></li>
                        
                        
                            <li class="toctree-l1"><a class="reference internal" href="../ens_development_support/architecture.html">feature/ens_development_support</a></li>
                        
                        
                            <li class="toctree-l1"><a class="reference internal" href="../gas_grid_model/architecture.html">feature/gas_grid_model</a></li>
                        
                        
                            <li class="toctree-l1"><a class="reference internal" href="../general_improvements/architecture.html">feature/general_improvements</a></li>
                        
                        
                            <li class="toctree-l1"><a class="reference internal" href="../market_clearing_engine/architecture.html">feature/market_clearing_engine</a></li>
                        
                        
                            <li class="toctree-l1"><a class="reference internal" href="../mesmo_planning/architecture.html">feature/mesmo_planning</a></li>
                        
                        
                            <li class="toctree-l1"><a class="reference internal" href="../optimization/architecture.html">feature/optimization</a></li>
                        
                        
                            
                        
                        
                            <li class="toctree-l1"><a class="reference internal" href="../plots/architecture.html">feature/plots</a></li>
                        
                        
                            <li class="toctree-l1"><a class="reference internal" href="../pnnl_tumcreate_colab/index.html">feature/pnnl_tumcreate_colab</a></li>
                        
                        
                            <li class="toctree-l1"><a class="reference internal" href="../primo_survey/index.html">feature/primo_survey</a></li>
                        
                        
                            <li class="toctree-l1"><a class="reference internal" href="../sitem/architecture.html">feature/sitem</a></li>
                        
                        
                            <li class="toctree-l1"><a class="reference internal" href="../strategic_offering/architecture.html">feature/strategic_offering</a></li>
                        
                        
                            <li class="toctree-l1"><a class="reference internal" href="../thermal_grid_extensions/architecture.html">feature/thermal_grid_extensions</a></li>
                        
                        
                            <li class="toctree-l1"><a class="reference internal" href="../trust_region/architecture.html">feature/trust_region</a></li>
                        
                        
                            <li class="toctree-l1"><a class="reference internal" href="../updated_plots/index.html">feature/updated_plots</a></li>
                        
                        
                            <li class="toctree-l1"><a class="reference internal" href="../validity_checks/index.html">feature/validity_checks</a></li>
                        
                        
                            <li class="toctree-l1"><a class="reference internal" href="../weather_dependent/index.html">feature/weather_dependent</a></li>
                        
                        
                            <li class="toctree-l1"><a class="reference internal" href="../../master/architecture.html">master</a></li>
                        
                        
                            <li class="toctree-l1"><a class="reference internal" href="../../multi_objective_mesmo/architecture.html">multi_objective_mesmo</a></li>
                        
                </ul>
            </li>
        </ul>
    </div>
</div>
      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="architecture">
<h1>Architecture<a class="headerlink" href="#architecture" title="Permalink to this heading">#</a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this heading">#</a></h2>
<p>The following sections define the software architecture for MESMO through views of key software structures:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#module-structures">Module structures</a> describe the decomposition of the software into data containers, modules, classes and functions.</p></li>
<li><p><a class="reference internal" href="#workflow-structures">Workflow structures</a> characterize how different modules interact with one another during run time.</p></li>
<li><p><a class="reference internal" href="#allocation-structures">Allocation structures</a> define how the module structure is reflected in the file structure of the source code and how the development tasks are organized.</p></li>
</ul>
<p>The <a class="reference internal" href="#appendix">appendix section</a> contains supplementary information on the requirements development process that has led to the initial software architecture for MESMO:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#use-case-modeling">Use case modeling</a> captures fundamental information needed to analyze and define functional requirements.</p></li>
<li><p><a class="reference internal" href="#functional-requirements">Functional requirements</a> define the expected concrete functionality of the software.</p></li>
<li><p><a class="reference internal" href="#quality-attributes">Quality attributes</a> set out the expected performance characteristics of the software.</p></li>
</ul>
<section id="structures-and-views">
<h3>Structures and views<a class="headerlink" href="#structures-and-views" title="Permalink to this heading">#</a></h3>
<p>The notation for <a class="reference internal" href="#module-structures">module structures</a>, <a class="reference internal" href="#workflow-structures">workflow structures</a> and <a class="reference internal" href="#allocation-structures">allocation structures</a> is based on the <a class="reference external" href="https://c4model.com/">C4 model</a>. Although its notation is traditionally intended for views of the module structure, the C4 model is also utilized in the workflow and allocation structures for a more consistent representation of individual elements across the different views.</p>
<p>The <a class="reference internal" href="#module-structures">module structures</a> are first introduced from a high level in the context view, which is followed by a comprehensive overview in the component view. Then, the individual modules are introduced though their respective code views. Note that code views of the <code class="docutils literal notranslate"><span class="pre">plots</span></code> and <code class="docutils literal notranslate"><span class="pre">dashboard</span></code> modules are omitted in the following because the concrete functionality has not been finalized. Similarly, the planning problem is currently not included in software architecture because this problem type has not yet been implemented in MESMO.</p>
<p>The module structures are followed by the <a class="reference internal" href="#workflow-structures">workflow structures</a> for the exemplary nominal and optimal operation problems. The purpose of the workflow structures is to provide an understanding of the data and run-time event flow when executing a problem. This also serves as a template for user-developed custom workflows which utilize low-level module interfaces. Lastly, the <a class="reference internal" href="#allocation-structures">allocation structures</a> present an overview of the dependency, repository and branch structures, relevant to any developers contributing to MESMO. For the dependency structure, the container view of the <a class="reference external" href="https://c4model.com/">C4 model</a> is utilized.</p>
</section>
<section id="stakeholders">
<h3>Stakeholders<a class="headerlink" href="#stakeholders" title="Permalink to this heading">#</a></h3>
<p>The following stakeholders are used to differentiate the intended ways of interacting with MESMO for specific types of users. This is in line with the “actors” defined in the <a class="reference internal" href="#use-case-modeling">use case modeling</a>:</p>
<ul class="simple">
<li><p>The <strong>system operator</strong> is responsible for maintaining and operating the district-scale energy system. This stakeholder is interested in modeling and optimizing short-term to medium-term dispatch decisions.</p></li>
<li><p>The <strong>system planner</strong> looks at the long-term operation and upgrading of the district-scale energy system. This stakeholder seeks to model future developments and optimizing long-term investment decisions.</p></li>
<li><p>The <strong>decision-maker</strong>, e.g. policy maker or utility executive, takes responsibility for the strategic development of the district-scale energy system. This stakeholder is primarily interested in evaluating results prepared by other stakeholders.</p></li>
<li><p>The <strong>researcher</strong> works on research and development tasks in the context of district-scale energy systems, e.g. investigation of novel operation strategies. To this end, the researcher is associated with the most diverse set of use cases.</p></li>
</ul>
</section>
</section>
<section id="module-structures">
<h2>Module structures<a class="headerlink" href="#module-structures" title="Permalink to this heading">#</a></h2>
<section id="context-view">
<h3>Context view<a class="headerlink" href="#context-view" title="Permalink to this heading">#</a></h3>
<img alt="" class="invert" id="fig-architecture-overview" src="_images/architecture_overview.png" />
<p><strong>Context view of MESMO.</strong></p>
<p><a class="reference internal" href="#fig-architecture-overview"><span class="std std-ref">The context view</span></a> depicts a high-level overview of the most critical components and the interaction between the software system and its stakeholders. The user interfaces can be distinguished into high-level interfaces, i.e. the <code class="docutils literal notranslate"><span class="pre">api</span></code> module and the <code class="docutils literal notranslate"><span class="pre">dashboard</span></code> module, and low-level interfaces, i.e. the <code class="docutils literal notranslate"><span class="pre">models</span></code> modules. To this end, the <code class="docutils literal notranslate"><span class="pre">api</span></code> module and <code class="docutils literal notranslate"><span class="pre">models</span></code> modules describe programming interfaces, whereas the <code class="docutils literal notranslate"><span class="pre">dashboard</span></code> denotes the GUI. Researchers primarily interface MESMO directly through the <code class="docutils literal notranslate"><span class="pre">models</span></code> modules because they require highly granular access and modifiability of the model objects for custom workflows. System planners and system operators interface MESMO through the <code class="docutils literal notranslate"><span class="pre">api</span></code> module, which provides convenient access to the most common workflows, i.e. running nominal and optimal operation problems and producing results plots. Decision-makers interface MESMO through the GUI of the <code class="docutils literal notranslate"><span class="pre">dashboard</span></code> module. Note that the <code class="docutils literal notranslate"><span class="pre">dashboard</span></code> module has not yet been implemented.</p>
<p>Scenario and model data definitions are enabled through a standardized <a class="reference internal" href="data_reference.html"><span class="std std-doc">CSV-based input file format</span></a>, which is referred to in the <a class="reference internal" href="#fig-architecture-overview"><span class="std std-ref">context view</span></a> as “Input files (*.csv)”. The input files are expected to be defined by researchers, system planners and system operators. Decision-makers are expected to rely on other stakeholders to define appropriate scenarios for their review.</p>
<p>Internally, the <code class="docutils literal notranslate"><span class="pre">api</span></code> module implements API functions which rely on the <code class="docutils literal notranslate"><span class="pre">problem</span></code> module and <code class="docutils literal notranslate"><span class="pre">plots</span></code> module. The <code class="docutils literal notranslate"><span class="pre">dashboard</span></code> module implements the GUI framework but relies on the <code class="docutils literal notranslate"><span class="pre">plots</span></code> module to generate individual plots. The <code class="docutils literal notranslate"><span class="pre">problems</span></code> module implements the main workflows for setup and solution of different problem types, for which it uses the mathematical models defined in the <code class="docutils literal notranslate"><span class="pre">models</span></code> modules. The <code class="docutils literal notranslate"><span class="pre">problems</span></code> module also implements a standardized results object across all problem types, which is used by the <code class="docutils literal notranslate"><span class="pre">plots</span></code> module. The <code class="docutils literal notranslate"><span class="pre">models</span></code> modules further rely on the <code class="docutils literal notranslate"><span class="pre">data_interface</span></code> module to obtain the model data definitions from the input files.</p>
</section>
<section id="component-view">
<h3>Component view<a class="headerlink" href="#component-view" title="Permalink to this heading">#</a></h3>
<img alt="" class="invert" id="fig-architecture-overview-detailed" src="_images/architecture_overview_detailed.png" />
<p><strong>Component view of MESMO.</strong></p>
<p>The <a class="reference internal" href="#fig-architecture-overview-detailed"><span class="std std-ref">component view of MESMO</span></a> provides a complete overview of all components, i.e. modules and data stores, of MESMO. The interaction between stakeholders and the software system follows the structure that has been outlined in <a class="reference internal" href="#fig-architecture-overview"><span class="std std-ref">the context view</span></a> and is not repeated here. Compared to <a class="reference internal" href="#fig-architecture-overview"><span class="std std-ref">the context view</span></a>, the <code class="docutils literal notranslate"><span class="pre">models</span></code> modules are represented individually in <a class="reference internal" href="#fig-architecture-overview-detailed"><span class="std std-ref">the component view</span></a> as <code class="docutils literal notranslate"><span class="pre">der_models</span></code> module, <code class="docutils literal notranslate"><span class="pre">electric_grid_models</span></code> module and <code class="docutils literal notranslate"><span class="pre">thermal_grid_models</span></code> module. Further, the <code class="docutils literal notranslate"><span class="pre">problems</span></code> module, <code class="docutils literal notranslate"><span class="pre">plots</span></code> module and <code class="docutils literal notranslate"><span class="pre">models</span></code> modules all use the <code class="docutils literal notranslate"><span class="pre">utils</span></code> module, which implements auxiliary functionality, such as base classes and logging functions. Researchers may use the <code class="docutils literal notranslate"><span class="pre">OptimizationProblem</span></code> class and results-path creation function from the <code class="docutils literal notranslate"><span class="pre">utils</span></code> module for creating custom workflows and optimization problem definitions.</p>
<p>In addition to the above described functionality, <code class="docutils literal notranslate"><span class="pre">data_interface</span></code> module creates an internal database, i.e. <code class="docutils literal notranslate"><span class="pre">database.sqlite</span></code>, which serves as a temporary data store for scenario and model data. The internal database enables the utilization of SQL statements for efficiently transforming the input data into model data objects, which are then used by the <code class="docutils literal notranslate"><span class="pre">models</span></code> modules. The <code class="docutils literal notranslate"><span class="pre">config</span></code> module facilitates the declaration of configuration parameters, e.g. the level of logging outputs or the choice of optimization solvers. It is used by the <code class="docutils literal notranslate"><span class="pre">data_interface</span></code> module, <code class="docutils literal notranslate"><span class="pre">utils</span></code> module, <code class="docutils literal notranslate"><span class="pre">problems</span></code> module, <code class="docutils literal notranslate"><span class="pre">plots</span></code> module and <code class="docutils literal notranslate"><span class="pre">models</span></code> modules. The <code class="docutils literal notranslate"><span class="pre">config</span></code> module reads configuration parameter definitions from the data stores <code class="docutils literal notranslate"><span class="pre">config.yml</span></code> and <code class="docutils literal notranslate"><span class="pre">config_default.yml</span></code> in <a class="reference external" href="https://yaml.org/">YAML format</a>.</p>
<p>MESMO is intended as a software system that is deployed to individual workstations akin to a traditional desktop application, where all data and dependencies are kept local. Nevertheless, the software architecture is kept flexible enough to support alternative deployment structures in future, e.g. provisioning of a remote database system for the internal data store or operating MESMO as a server-side system that serves a web-based dashboard.</p>
</section>
<section id="configuration-module">
<h3>Configuration module<a class="headerlink" href="#configuration-module" title="Permalink to this heading">#</a></h3>
<img alt="" class="invert" id="fig-architecture-config" src="_images/architecture_config.png" />
<p><strong>Code view of the configuration module.</strong></p>
<p>The <code class="docutils literal notranslate"><span class="pre">config</span></code> module implements the following functionality:</p>
<ul class="simple">
<li><p>Declaration of configuration variables in <code class="docutils literal notranslate"><span class="pre">get_config()</span></code>.</p></li>
<li><p>Setup of logger object in <code class="docutils literal notranslate"><span class="pre">get_logger()</span></code>.</p></li>
<li><p>Setup of parallel pool in <code class="docutils literal notranslate"><span class="pre">get_parallel_pool()</span></code>.</p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">get_config()</span></code> function is executed upon initialization of the <code class="docutils literal notranslate"><span class="pre">config</span></code> module and sets the <code class="docutils literal notranslate"><span class="pre">config</span></code> dictionary, which is available as public global variable for all modules of MESMO. The <code class="docutils literal notranslate"><span class="pre">config</span></code> dictionary encapsulates configuration parameters, such as logging level and optimization solver selection. The configuration parameters themselves are defined in the data stores <code class="docutils literal notranslate"><span class="pre">config.yml</span></code> and <code class="docutils literal notranslate"><span class="pre">config_default.yml</span></code>, where <code class="docutils literal notranslate"><span class="pre">get_config()</span></code> first reads the latter to obtain the default settings and then <code class="docutils literal notranslate"><span class="pre">config.yml</span></code> for user-defined configuration parameters which supersede the default settings.</p>
<p>The setup of logger objects is handled by <code class="docutils literal notranslate"><span class="pre">get_logger()</span></code>, where all other modules of MESMO instantiate a local logger object through <code class="docutils literal notranslate"><span class="pre">get_logger()</span></code> upon their initialization. The logger object itself is implemented in <a class="reference external" href="https://docs.python.org/3/library/logging.html#logger-objects"><code class="docutils literal notranslate"><span class="pre">logging.Logger</span></code></a> of the Python standard library. However, <code class="docutils literal notranslate"><span class="pre">get_logger()</span></code> takes care of setting the logging level according to the configuration settings.</p>
<p>The function <code class="docutils literal notranslate"><span class="pre">get_parallel_pool()</span></code> is used by <code class="docutils literal notranslate"><span class="pre">starmap()</span></code> from the <code class="docutils literal notranslate"><span class="pre">utils</span></code> module to instantiate a parallel pool upon first use. A handle to the parallel pool object is then set to the global variable <code class="docutils literal notranslate"><span class="pre">parallel_pool</span></code>. The usage of parallel processing is controlled through a configuration parameter.</p>
<p>Aside from the functionality mentioned above, the <code class="docutils literal notranslate"><span class="pre">config</span></code> module also defines run-time settings for various Python modules upon initialization. For example, default settings for the <code class="docutils literal notranslate"><span class="pre">pandas</span></code> and <code class="docutils literal notranslate"><span class="pre">plotly</span></code> libraries are set here.</p>
</section>
<section id="utility-module">
<h3>Utility module<a class="headerlink" href="#utility-module" title="Permalink to this heading">#</a></h3>
<img alt="" class="invert" id="fig-architecture-utils" src="_images/architecture_utils.png" />
<p><strong>Code view of the utility module.</strong></p>
<p>The <code class="docutils literal notranslate"><span class="pre">utils</span></code> module implements the following functionality:</p>
<ul class="simple">
<li><p>MESMO object base class in <code class="docutils literal notranslate"><span class="pre">ObjectBase</span></code>.</p></li>
<li><p>Results object base class in <code class="docutils literal notranslate"><span class="pre">ResultsBase</span></code>.</p></li>
<li><p>Optimization problem class in <code class="docutils literal notranslate"><span class="pre">OptimizationProblem</span></code>.</p></li>
<li><p>Parallelization utility function in <code class="docutils literal notranslate"><span class="pre">starmap()</span></code>.</p></li>
<li><p>Indexing utility functions in <code class="docutils literal notranslate"><span class="pre">get_index()</span></code>, <code class="docutils literal notranslate"><span class="pre">get_element_phases_array()</span></code> and <code class="docutils literal notranslate"><span class="pre">get_element_phases_string()</span></code>.</p></li>
<li><p>Utility functions to capture and log elapsed time in <code class="docutils literal notranslate"><span class="pre">log_time()</span></code>.</p></li>
<li><p>Helper functions to create and return a current time stamp in <code class="docutils literal notranslate"><span class="pre">get_timestamp</span></code> and a path for a new results folder in <code class="docutils literal notranslate"><span class="pre">get_results_path()</span></code>.</p></li>
<li><p>A utility function for writing <code class="docutils literal notranslate"><span class="pre">plotly</span></code> figures to files in <code class="docutils literal notranslate"><span class="pre">write_figure_plotly()</span></code>.</p></li>
<li><p>Other utility functions, which have yet to be included here (see <a class="reference internal" href="api_reference.html"><span class="std std-doc">API reference</span></a> for more).</p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">utils</span></code> module essentially provides support functionality for the other modules of MESMO. To begin, the <code class="docutils literal notranslate"><span class="pre">ObjectBase</span></code>, <code class="docutils literal notranslate"><span class="pre">ResultsBase</span></code> and <code class="docutils literal notranslate"><span class="pre">OptimizationProblem</span></code> define base classes for MESMO, such that common functionality is not multiply defined in the model modules. Note that the purpose and functionality of the <code class="xref py py-class docutils literal notranslate"><span class="pre">mesmo.solutions.OptimizationProblem</span></code> object is extensively documented in the <a class="reference internal" href="api_reference.html"><span class="std std-doc">API reference</span></a>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">starmap()</span></code> function enables the parallelization of function calls, such that independent function can be executed in parallel, e.g. the initialization of multiple models. Therefore, <code class="docutils literal notranslate"><span class="pre">starmap()</span></code> replaces for-loop instances, which is modeled on <a class="reference external" href="https://docs.python.org/library/itertools.html#itertools.starmap"><code class="docutils literal notranslate"><span class="pre">itertools.starmap()</span></code></a> from the Python standard library. Note that parallel processing via <code class="docutils literal notranslate"><span class="pre">starmap()</span></code> must be explicitly enabled through the <a class="reference internal" href="configuration_reference.html#multiprocessing-configuration"><span class="std std-ref">multiprocessing configuration parameters</span></a>. The <code class="docutils literal notranslate"><span class="pre">starmap()</span></code> function enables performance improvements to address the solution time software quality attribute.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">get_index()</span></code>, <code class="docutils literal notranslate"><span class="pre">get_element_phases_array()</span></code> and <code class="docutils literal notranslate"><span class="pre">get_element_phases_string()</span></code> functions define low-level functionality to support convenient indexing into vectors and matrices of the mathematical model formulations. This is heavily utilized in the model modules.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">log_time()</span></code> function enables time-based logging of function executions, which is mainly utilized in the <code class="docutils literal notranslate"><span class="pre">problems</span></code> module. This function is aimed at improving the testability of MESMO. Lastly, the <code class="docutils literal notranslate"><span class="pre">get_timestamp</span></code>, <code class="docutils literal notranslate"><span class="pre">get_results_path()</span></code> and <code class="docutils literal notranslate"><span class="pre">write_figure_plotly()</span></code> are helper functions that support the output of results.</p>
</section>
<section id="data-interface-module">
<h3>Data interface module<a class="headerlink" href="#data-interface-module" title="Permalink to this heading">#</a></h3>
<img alt="" class="invert" id="fig-architecture-data-interface" src="_images/architecture_data_interface.png" />
<p><strong>Code view of the data interface module.</strong></p>
<p>The <code class="docutils literal notranslate"><span class="pre">data_interface</span></code> module implements the following functionality:</p>
<ul class="simple">
<li><p>Function to connect to the internal database in <code class="docutils literal notranslate"><span class="pre">connect_database()</span></code>.</p></li>
<li><p>Function to create or clear the internal database and reload all data from the input files in CSV format in <code class="docutils literal notranslate"><span class="pre">recreate_database()</span></code>.</p></li>
<li><p>Data container objects for scenario data in <code class="docutils literal notranslate"><span class="pre">ScenarioData</span></code>, price data in <code class="docutils literal notranslate"><span class="pre">PriceData</span></code>, DER data in <code class="docutils literal notranslate"><span class="pre">DERData</span></code>, electric grid data in <code class="docutils literal notranslate"><span class="pre">ElectricGridData</span></code> and thermal grid data in <code class="docutils literal notranslate"><span class="pre">ThermalGridData</span></code>.</p></li>
</ul>
<p>The primary purpose of <code class="docutils literal notranslate"><span class="pre">data_interface</span></code> module is to address the software quality attributes regarding interoperability and modifiability. To this end, the data container objects of this module serve as an abstraction layer between external and internal data structures. More specifically, internal model objects, e.g. <code class="docutils literal notranslate"><span class="pre">ElectricGridModel</span></code>, rely exclusively on data container objects, e.g. <code class="docutils literal notranslate"><span class="pre">ElectricGridData</span></code>, for their model parameter input but do not read any external data definitions directly. This is leans on the “clean architecture” principle from (Martin 2018, p. 195, Chapter 22), which suggests that software layers that implement core functionality, i.e. models modules, should not need to know anything about the external interfaces of the software system, i.e. the input data definitions. This approach supports interoperability and modifability because changes to the external data formats of MESMO do not induce any changes in the model implementations. Note however, that changes on the model implementations may indeed require changes to the data interface, as the required model parameters may change.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">connect_database()</span></code> function establishes the connection to the internal database and returns a connection handle. MESMO utilizes an SQLITE database as internal database, which is stored locally as <code class="docutils literal notranslate"><span class="pre">database.sqlite</span></code>. On the other hand, if the local database does not yet exist, it is created through a call to <code class="docutils literal notranslate"><span class="pre">recreate_database()</span></code>. This function creates an empty database and loads the CSV input files into the database. If the local database exists, a call to <code class="docutils literal notranslate"><span class="pre">recreate_database()</span></code> clears the existing database before parsing the CSV input files. The MESMO CSV input format is aligned with the internal database schema, such that each CSV file corresponds to a table in the SQL database. Therefore, the CSV file name is interpreted as table name and the values in the first row are interpreted as column names. Note that MESMO can in principle be adapted to use other SQL database software than SQLITE, through modification of <code class="docutils literal notranslate"><span class="pre">connect_database()</span></code> and <code class="docutils literal notranslate"><span class="pre">recreate_database()</span></code>.</p>
<p>The data container objects, i.e. <code class="docutils literal notranslate"><span class="pre">ScenarioData</span></code>, <code class="docutils literal notranslate"><span class="pre">PriceData</span></code>, <code class="docutils literal notranslate"><span class="pre">DERData</span></code>, <code class="docutils literal notranslate"><span class="pre">ElectricGridData</span></code> and <code class="docutils literal notranslate"><span class="pre">ThermalGridData</span></code>, implement routines for selecting and transforming data from the database into a suitable format for the model input. To this end, the data containers encapsulate only the relevant data items for the corresponding model class and the current scenario. The <code class="docutils literal notranslate"><span class="pre">DERData</span></code>, <code class="docutils literal notranslate"><span class="pre">ElectricGridData</span></code> and <code class="docutils literal notranslate"><span class="pre">ThermalGridData</span></code> objects contain model parameters for the namesake model classes. The <code class="docutils literal notranslate"><span class="pre">PriceData</span></code> contains the set of price time series for the current scenario. The <code class="docutils literal notranslate"><span class="pre">ScenarioData</span></code> object contains scenario information, such as the set of time steps and general parameters of the current scenario. Note that other data objects use the <code class="docutils literal notranslate"><span class="pre">ScenarioData</span></code> object, e.g. to obtain the set of time steps for resampling time series data.</p>
</section>
<section id="electric-grid-models-module">
<h3>Electric grid models module<a class="headerlink" href="#electric-grid-models-module" title="Permalink to this heading">#</a></h3>
<img alt="" class="invert" id="fig-architecture-electric-grid-models" src="_images/architecture_electric_grid_models.png" />
<p><strong>Code view of the electric grid models module.</strong></p>
<p>The <code class="docutils literal notranslate"><span class="pre">electric_grid_models</span></code> module implements the following functionality:</p>
<ul class="simple">
<li><p>Fundamental electric grid models in <code class="docutils literal notranslate"><span class="pre">ElectricGridModel</span></code>, <code class="docutils literal notranslate"><span class="pre">ElectricGridModelDefault</span></code> and <code class="docutils literal notranslate"><span class="pre">ElectricGridModelOpenDSS</span></code>.</p></li>
<li><p>Power flow solution algorithms in <code class="docutils literal notranslate"><span class="pre">PowerFlowSolution</span></code>, <code class="docutils literal notranslate"><span class="pre">PowerFlowSolutionFixedPoint</span></code>, <code class="docutils literal notranslate"><span class="pre">PowerFlowSolutionZBus</span></code> and <code class="docutils literal notranslate"><span class="pre">PowerFlowSolutionOpenDSS</span></code>.</p></li>
<li><p>Linear electric grid models in <code class="docutils literal notranslate"><span class="pre">LinearElectricGridModel</span></code>, <code class="docutils literal notranslate"><span class="pre">LinearElectricGridModelSet</span></code>, <code class="docutils literal notranslate"><span class="pre">LinearElectricGridModelGlobal</span></code> and <code class="docutils literal notranslate"><span class="pre">LinearElectricGridModelLocal</span></code>.</p></li>
<li><p>Electric grid operation problem results in <code class="docutils literal notranslate"><span class="pre">ElectricGridOperationResults</span></code> and <code class="docutils literal notranslate"><span class="pre">ElectricGridDLMPResults</span></code>.</p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">ElectricGridModel</span></code> class implements a base class for electric models, which consists of index sets for nodes, branches and DERs and reference vectors for the nodal voltage, branch power flow and DER power injection / load. This base class is extended in <code class="docutils literal notranslate"><span class="pre">ElectricGridModelDefault</span></code> with the mathematical definitions of the fundamental electric grid model. To this end, the model implements nodal and branch admittance matrices along with branch and DER mapping matrices. The <code class="docutils literal notranslate"><span class="pre">ElectricGridModelOpenDSS</span></code> similarly extends the <code class="docutils literal notranslate"><span class="pre">ElectricGridModel</span></code> class, where the focus lies on implementing a OpenDSS model based for the provided grid definition data. This essentially acts as an interface to OpenDSS, which is provided in MESMO to allow for benchmarking of obtained power flow solutions. The implementation relies on <a class="reference external" href="https://github.com/dss-extensions/OpenDSSDirect.py"><code class="docutils literal notranslate"><span class="pre">OpenDSSDirect.py</span></code></a>, which provides a Python interface and command-line executables of OpenDSS.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">PowerFlowSolution</span></code> class implements a abstract base class for power flow solutions, thereby declaring the expected output variables of the power flow solution. This base class is extended in <code class="docutils literal notranslate"><span class="pre">PowerFlowSolutionFixedPoint</span></code> for the fixed-point solution algorithm and in <code class="docutils literal notranslate"><span class="pre">PowerFlowSolutionZBus</span></code> for the Z-bus solution algorithm, which both use and <code class="docutils literal notranslate"><span class="pre">ElectricGridModelDefault</span></code> object as an input for the power flow solution. The <code class="docutils literal notranslate"><span class="pre">PowerFlowSolutionOpenDSS</span></code> class implements a power flow solution through OpenDSS, where it relies on an OpenDSS model being defined in <code class="docutils literal notranslate"><span class="pre">ElectricGridModelOpenDSS</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">LinearElectricGridModel</span></code> class implements a base class for linear electric model, where the expected sensitivity matrices of the linear grid model are declared. Based on a set of <code class="docutils literal notranslate"><span class="pre">LinearElectricGridModel</span></code> objects, i.e. one model per time step, the <code class="docutils literal notranslate"><span class="pre">LinearElectricGridModelSet</span></code> class implements the optimization-related methods <code class="docutils literal notranslate"><span class="pre">define_optimization_variables</span></code>, <code class="docutils literal notranslate"><span class="pre">define_optimization_constraints</span></code> and <code class="docutils literal notranslate"><span class="pre">define_optimization_objective</span></code> to define variables, constraints and objective for an optimal operation problem based on the linear grid model. Further, this class implements <code class="docutils literal notranslate"><span class="pre">get_optimization_results</span></code> and <code class="docutils literal notranslate"><span class="pre">get_optimization_dlmps</span></code> to obtain the DLMPs and other results after the optimization problem was solved. The <code class="docutils literal notranslate"><span class="pre">LinearElectricGridModel</span></code> base class is extended in <code class="docutils literal notranslate"><span class="pre">LinearElectricGridModelGlobal</span></code> and <code class="docutils literal notranslate"><span class="pre">LinearElectricGridModelLocal</span></code> with the mathematical definitions for the sensitivity matrices based on the global and local approximation methods.</p>
<p>The results container classes <code class="docutils literal notranslate"><span class="pre">ElectricGridOperationResults</span></code> and <code class="docutils literal notranslate"><span class="pre">ElectricGridDLMPResults</span></code> encapsulate the output from <code class="docutils literal notranslate"><span class="pre">get_optimization_results</span></code> and <code class="docutils literal notranslate"><span class="pre">get_optimization_dlmps</span></code>. To this end, the container classes declare a standardized interface for results data. This addresses the software quality attribute for modifiability, since it ensures a decoupling of the mathematical model implementation from the post-processing functionality in the <code class="docutils literal notranslate"><span class="pre">plots</span></code> and <code class="docutils literal notranslate"><span class="pre">dashboard</span></code> modules.</p>
</section>
<section id="thermal-grid-models-module">
<h3>Thermal grid models module<a class="headerlink" href="#thermal-grid-models-module" title="Permalink to this heading">#</a></h3>
<img alt="" class="invert" id="fig-architecture-thermal-grid-models" src="_images/architecture_thermal_grid_models.png" />
<p><strong>Code view of the thermal grid models module.</strong></p>
<p>The <code class="docutils literal notranslate"><span class="pre">thermal_grid_models</span></code> module implements the following functionality:</p>
<ul class="simple">
<li><p>Fundamental thermal grid model in <code class="docutils literal notranslate"><span class="pre">ThermalGridModel</span></code>.</p></li>
<li><p>Thermal power flow solution algorithm in <code class="docutils literal notranslate"><span class="pre">ThermalPowerFlowSolution</span></code>.</p></li>
<li><p>Linear thermal grid models in <code class="docutils literal notranslate"><span class="pre">LinearThermalGridModel</span></code> and <code class="docutils literal notranslate"><span class="pre">LinearThermalGridModelSet</span></code>.</p></li>
<li><p>Thermal grid operation problem results in <code class="docutils literal notranslate"><span class="pre">ThermalGridOperationResults</span></code> and <code class="docutils literal notranslate"><span class="pre">ThermalGridDLMPResults</span></code>.</p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">ThermalGridModel</span></code> class implements the fundamental thermal grid model consisting of index sets for nodes, branches and DERs in the thermal grid as well as branch parameter and mapping matrices. Based on this, the <code class="docutils literal notranslate"><span class="pre">ThermalPowerFlowSolution</span></code> implements the thermal power flow solution algorithm for the thermal grid. Note that the distinction into base classes and detail classes is omitted due to lack of differentiation the thermal grid models but a structure similar to the <code class="docutils literal notranslate"><span class="pre">electric_grid_models</span></code> module may be introduced at later point.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">LinearThermalGridModel</span></code> class implements base for linear thermal grid models, where the expected sensitivity matrices of the linear grid model are declared and defined. Based on a set of <code class="docutils literal notranslate"><span class="pre">LinearThermalGridModel</span></code> objects, i.e. one model per time step, the <code class="docutils literal notranslate"><span class="pre">LinearThermalGridModelSet</span></code> class defines the optimization-related methods <code class="docutils literal notranslate"><span class="pre">define_optimization_variables</span></code>, <code class="docutils literal notranslate"><span class="pre">define_optimization_constraints</span></code> and <code class="docutils literal notranslate"><span class="pre">define_optimization_objective</span></code> to define variables, constraints and objective for an optimal operation problem based on the linear grid model. Further, this class implements <code class="docutils literal notranslate"><span class="pre">get_optimization_results</span></code> and <code class="docutils literal notranslate"><span class="pre">get_optimization_dlmps</span></code> to obtain the DLMPs and other results after the optimization problem was solved.</p>
<p>The results container classes <code class="docutils literal notranslate"><span class="pre">ThermalGridOperationResults</span></code> and <code class="docutils literal notranslate"><span class="pre">ThermalGridDLMPResults</span></code> encapsulate the output from <code class="docutils literal notranslate"><span class="pre">get_optimization_results</span></code> and <code class="docutils literal notranslate"><span class="pre">get_optimization_dlmps</span></code>. To this end, the container classes declare a standardized interface for results data. Similar to the results classes in the <code class="docutils literal notranslate"><span class="pre">electric_grid_models</span></code> module, this addresses the software quality attribute for modifiability.</p>
</section>
<section id="der-models-module">
<h3>DER models module<a class="headerlink" href="#der-models-module" title="Permalink to this heading">#</a></h3>
<img alt="" class="invert" id="fig-architecture-der-models" src="_images/architecture_der_models.png" />
<p><strong>Code view of the DER models module.</strong></p>
<p>The <code class="docutils literal notranslate"><span class="pre">der_models</span></code> module implements the following functionality:</p>
<ul class="simple">
<li><p>Fundamental DER models in <code class="docutils literal notranslate"><span class="pre">DERModel</span></code>, <code class="docutils literal notranslate"><span class="pre">FixedDERModel</span></code> and <code class="docutils literal notranslate"><span class="pre">FlexibleDERModel</span></code>.</p></li>
<li><p>Various fixed DER models in <code class="docutils literal notranslate"><span class="pre">FixedLoadModel</span></code>, <code class="docutils literal notranslate"><span class="pre">FixedGeneratorModel</span></code>, <code class="docutils literal notranslate"><span class="pre">FixedEVChargerModel</span></code>.</p></li>
<li><p>Various flexible DER models in <code class="docutils literal notranslate"><span class="pre">FlexibleLoadModel</span></code>, <code class="docutils literal notranslate"><span class="pre">FlexibleGeneratorModel</span></code>, <code class="docutils literal notranslate"><span class="pre">StorageModel</span></code>, <code class="docutils literal notranslate"><span class="pre">CoolingPlantModel</span></code>, <code class="docutils literal notranslate"><span class="pre">HeatingPlantModel</span></code>, <code class="docutils literal notranslate"><span class="pre">FlexibleBuildingModel</span></code>.</p></li>
<li><p>DER model set in <code class="docutils literal notranslate"><span class="pre">DERModelSet</span></code>.</p></li>
<li><p>DER operation problem results in <code class="docutils literal notranslate"><span class="pre">DERModelSetOperationResults</span></code>.</p></li>
<li><p>Factory function for DER model objects in <code class="docutils literal notranslate"><span class="pre">make_der_model()</span></code>.</p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">DERModel</span></code> class serves as an abstract base class for DER models, which declares fundamentally expected model variables, such as nominal power time series or grid connection indicators. The classes <code class="docutils literal notranslate"><span class="pre">FixedDERModel</span></code> and <code class="docutils literal notranslate"><span class="pre">FlexibleDERModel</span></code> are abstract base classes that extend <code class="docutils literal notranslate"><span class="pre">DERModel</span></code> with variable declarations that are distinct for fixed or flexible DER models. These classes also implement the methods <code class="docutils literal notranslate"><span class="pre">define_optimization_variables</span></code>, <code class="docutils literal notranslate"><span class="pre">define_optimization_constraints</span></code> and <code class="docutils literal notranslate"><span class="pre">define_optimization_objective</span></code> to define variables, constraints and objective for an optimal operation problem based on the linear grid model. Further, the base classes implement <code class="docutils literal notranslate"><span class="pre">get_optimization_results</span></code> to obtain the results after the optimization problem was solved.</p>
<p>The concrete mathematical model definitions for fixed DER models are implemented in <code class="docutils literal notranslate"><span class="pre">FixedLoadModel</span></code>, <code class="docutils literal notranslate"><span class="pre">FixedGeneratorModel</span></code>, <code class="docutils literal notranslate"><span class="pre">FixedEVChargerModel</span></code>, which respectively extend <code class="docutils literal notranslate"><span class="pre">FixedDERModel</span></code>. The corresponding model definitions for flexible DER models are implemented in <code class="docutils literal notranslate"><span class="pre">FlexibleLoadModel</span></code>, <code class="docutils literal notranslate"><span class="pre">FlexibleGeneratorModel</span></code>, <code class="docutils literal notranslate"><span class="pre">StorageModel</span></code>, <code class="docutils literal notranslate"><span class="pre">CoolingPlantModel</span></code>, <code class="docutils literal notranslate"><span class="pre">HeatingPlantModel</span></code>, <code class="docutils literal notranslate"><span class="pre">FlexibleBuildingModel</span></code>, which respectively extend <code class="docutils literal notranslate"><span class="pre">FixedDERModel</span></code>. Note that this listing represents the currently implemented DER models but MESMO may be augmented with other model types in the future. To this end, the definition of base classes in <code class="docutils literal notranslate"><span class="pre">DERModel</span></code>, <code class="docutils literal notranslate"><span class="pre">FixedDERModel</span></code> and <code class="docutils literal notranslate"><span class="pre">FlexibleDERModel</span></code> addresses the modifiability software quality attribute, as it defines a standardized interface for custom DER model implementations.</p>
<p>The class <code class="docutils literal notranslate"><span class="pre">DERModelSet</span></code> implements a container class for all DER models of a MESMO scenario. To this end, all DER models of a MESMO scenario are loaded upon initialization of the <code class="docutils literal notranslate"><span class="pre">DERModelSet</span></code>. Further, the class implements wrapper methods for <code class="docutils literal notranslate"><span class="pre">define_optimization_variables</span></code>, <code class="docutils literal notranslate"><span class="pre">define_optimization_constraints</span></code>, <code class="docutils literal notranslate"><span class="pre">define_optimization_objective</span></code> and <code class="docutils literal notranslate"><span class="pre">get_optimization_results</span></code>. This class relies on the factory function <code class="docutils literal notranslate"><span class="pre">make_der_model()</span></code> to create the relevant DER models. Note that the DER initialization is parallelized through <code class="docutils literal notranslate"><span class="pre">starmap()</span></code> from the <code class="docutils literal notranslate"><span class="pre">utils</span></code> module.</p>
</section>
<section id="problems-module">
<h3>Problems module<a class="headerlink" href="#problems-module" title="Permalink to this heading">#</a></h3>
<img alt="" class="invert" id="fig-architecture-problems" src="_images/architecture_problems.png" />
<p><strong>Code view of the problems module.</strong></p>
<p>The <code class="docutils literal notranslate"><span class="pre">problems</span></code> module implements the following functionality:</p>
<ul class="simple">
<li><p>Nominal operation problem in <code class="docutils literal notranslate"><span class="pre">NominalOperationProblem</span></code>.</p></li>
<li><p>Optimal operation problem in <code class="docutils literal notranslate"><span class="pre">OptimalOperationProblem</span></code>.</p></li>
<li><p>Results container class in <code class="docutils literal notranslate"><span class="pre">Results</span></code>.</p></li>
</ul>
<p>The classes <code class="docutils literal notranslate"><span class="pre">NominalOperationProblem</span></code> and <code class="docutils literal notranslate"><span class="pre">OptimalOperationProblem</span></code> define the setup workflow for nominal and optimal operation problems. Further, these classes implement the methods <code class="docutils literal notranslate"><span class="pre">solve()</span></code> for solving the problem and <code class="docutils literal notranslate"><span class="pre">get_results()</span></code> for obtaining the solutions. The concrete workflow structures for nominal and optimal operation problems are highlighted below in <a class="reference internal" href="#workflow-structures"><span class="std std-ref">Workflow structures</span></a>.</p>
<p>The results container class <code class="docutils literal notranslate"><span class="pre">Results</span></code> declares the expected results variables for operation problems. To this end, this class inherits from the individual model results classes <code class="docutils literal notranslate"><span class="pre">ElectricGridOperationResults</span></code>, <code class="docutils literal notranslate"><span class="pre">ElectricGridDLMPResults</span></code>, <code class="docutils literal notranslate"><span class="pre">ThermalGridOperationResults</span></code>, <code class="docutils literal notranslate"><span class="pre">ThermalGridDLMPResults</span></code> and <code class="docutils literal notranslate"><span class="pre">DERModelSetOperationResults</span></code>. As discussed for the results classes in the <code class="docutils literal notranslate"><span class="pre">electric_grid_models</span></code> module, this addresses the software quality attribute for modifiability.</p>
</section>
</section>
<section id="workflow-structures">
<h2>Workflow structures<a class="headerlink" href="#workflow-structures" title="Permalink to this heading">#</a></h2>
<section id="nominal-operation-problem">
<h3>Nominal operation problem<a class="headerlink" href="#nominal-operation-problem" title="Permalink to this heading">#</a></h3>
<img alt="" class="invert" id="fig-workflow-nominal-operation" src="_images/workflow_nominal_operation.png" />
<p><strong>Workflow diagram of the nominal operation problems.</strong></p>
<p>The nominal operation problem is a simulation problem of the electric grid, thermal grid and DERs. The <a class="reference internal" href="#fig-workflow-nominal-operation"><span class="std std-ref">workflow diagram</span></a> for an exemplary nominal operation problem is depicted above. In this example, the thermal grid is not considered for the sake of brevity. For the purpose of this documentation, the researcher is assumed to control the workflow within a read-eval-print loop (REPL), i.e. successively executing statements in the command line.</p>
<p>The workflow begins with the researcher creating an object of the <code class="docutils literal notranslate"><span class="pre">NominalOperationProblem</span></code> class. In the initialization routine of this object, the child objects <code class="docutils literal notranslate"><span class="pre">ElectricGridModel</span></code> and <code class="docutils literal notranslate"><span class="pre">DERModelSet</span></code> are created. In turn, the initialization routine of <code class="docutils literal notranslate"><span class="pre">ElectricGridModel</span></code> loads an <code class="docutils literal notranslate"><span class="pre">ElectricGridData</span></code> object, whereas <code class="docutils literal notranslate"><span class="pre">DERModelSet</span></code> loads an <code class="docutils literal notranslate"><span class="pre">DERData</span></code> object. The data objects respectively establish a connection to <code class="docutils literal notranslate"><span class="pre">database.sqlite</span></code> through <code class="docutils literal notranslate"><span class="pre">connect_database()</span></code> and then obtain the relevant data items. In <code class="docutils literal notranslate"><span class="pre">ElectricGridModel</span></code>, the index sets and model matrices are then defined based on the obtained data. In <code class="docutils literal notranslate"><span class="pre">DERModelSet</span></code> all DER models for the current scenario are created through <code class="docutils literal notranslate"><span class="pre">make_der_model()</span></code>, thereby loading multiple <code class="docutils literal notranslate"><span class="pre">DERModel</span></code> objects. Once the initialization routine is completed, control is returned to the researcher.</p>
<p>The researcher then calls the <code class="docutils literal notranslate"><span class="pre">solve()</span></code> method of the <code class="docutils literal notranslate"><span class="pre">NominalOperationProblem</span></code> object. This method first obtains the nominal power time series for each DER in the <code class="docutils literal notranslate"><span class="pre">DERModelSet</span></code>. Then, based on the DER nominal power vector for each time step as well as the <code class="docutils literal notranslate"><span class="pre">ElectricGridModel</span></code>, the <code class="docutils literal notranslate"><span class="pre">solve()</span></code> method obtains a <code class="docutils literal notranslate"><span class="pre">PowerFlowSolution</span></code> for each time step. Internally, this is handled through the <code class="docutils literal notranslate"><span class="pre">starmap()</span></code> function, as the power flow solution for each time step can be calculated independently and thus in parallel. The power flow solutions are stored within the <code class="docutils literal notranslate"><span class="pre">NominalOperationProblem</span></code> object and then control returned to the researcher.</p>
<p>Next, the researcher calls the <code class="docutils literal notranslate"><span class="pre">get_results()</span></code> method of the <code class="docutils literal notranslate"><span class="pre">NominalOperationProblem</span></code> object. This method transforms the results from the <code class="docutils literal notranslate"><span class="pre">PowerFlowSolution</span></code> objects into the results variables expected in the <code class="docutils literal notranslate"><span class="pre">Results</span></code> object, which is then created by passing the relevant variables into the container. Eventually, the <code class="docutils literal notranslate"><span class="pre">get_results()</span></code> method returns the <code class="docutils literal notranslate"><span class="pre">Results</span></code> object to the researcher.</p>
<p>In the last step, the researcher may save the results to the file system through the <code class="docutils literal notranslate"><span class="pre">save()</span></code> method of the <code class="docutils literal notranslate"><span class="pre">Results</span></code> object.</p>
</section>
<section id="optimal-operation-problem">
<h3>Optimal operation problem<a class="headerlink" href="#optimal-operation-problem" title="Permalink to this heading">#</a></h3>
<img alt="" class="invert" id="fig-workflow-optimal-operation" src="_images/workflow_optimal_operation.png" />
<p><strong>Workflow diagram of the optimal operation problems.</strong></p>
<p>The optimal operation problem is a numerical optimization problem of the district-scale electric grid, thermal grid and DERs. The <a class="reference internal" href="#fig-workflow-optimal-operation"><span class="std std-ref">workflow diagram</span></a> for an exemplary nominal operation problem is depicted above. Similar to the nominal operation problem workflow above, the thermal grid is not considered for the sake of brevity and the researcher is assumed to control the workflow within a read-eval-print loop (REPL), i.e. successively executing statements in the command line.</p>
<p>The researcher begins the workflow by creating an object of the <code class="docutils literal notranslate"><span class="pre">OptimalOperationProblem</span></code> class. In its initialization routine, the <code class="docutils literal notranslate"><span class="pre">OptimalOperationProblem</span></code> creates child objects of the <code class="docutils literal notranslate"><span class="pre">ElectricGridModel</span></code>, <code class="docutils literal notranslate"><span class="pre">LinearElectricGridModelSet</span></code> and <code class="docutils literal notranslate"><span class="pre">DERModelSet</span></code> classes. To begin, the <code class="docutils literal notranslate"><span class="pre">ElectricGridModel</span></code> loads an <code class="docutils literal notranslate"><span class="pre">ElectricGridData</span></code> object, which establishes a connection to <code class="docutils literal notranslate"><span class="pre">database.sqlite</span></code> through <code class="docutils literal notranslate"><span class="pre">connect_database()</span></code> and obtains the relevant data items. In <code class="docutils literal notranslate"><span class="pre">ElectricGridModel</span></code>, the index sets and model matrices are then defined based on the obtained data. Based on this, the <code class="docutils literal notranslate"><span class="pre">LinearElectricGridModelSet</span></code> is instantiated, which internally loads a set of <code class="docutils literal notranslate"><span class="pre">LinearElectricGridModel</span></code> objects based on the index sets and model matrices of the <code class="docutils literal notranslate"><span class="pre">ElectricGridModel</span></code> object. Furthermore, a <code class="docutils literal notranslate"><span class="pre">PowerFlowSolution</span></code> object is loaded for the nominal loading conditions of the electric grid, which is required as a reference point for the global approximation method. Note that <code class="docutils literal notranslate"><span class="pre">LinearElectricGridModelSet</span></code> creates one <code class="docutils literal notranslate"><span class="pre">LinearElectricGridModel</span></code> for each time step of the scenario, which is intended to enable better solution quality by using individual approximation points, i.e. <code class="docutils literal notranslate"><span class="pre">PowerFlowSolution</span></code> objects, for each time step. This currently not utilized in <code class="docutils literal notranslate"><span class="pre">OptimalOperationProblem</span></code>, but the interface has been designed to be future-proof, e.g. for integration of a trust-region algorithm to iteratively update the approximation points. Lastly, in <code class="docutils literal notranslate"><span class="pre">DERModelSet</span></code> all DER models for the current scenario are created through <code class="docutils literal notranslate"><span class="pre">make_der_model()</span></code>, thereby loading multiple <code class="docutils literal notranslate"><span class="pre">DERModel</span></code> objects.</p>
<p>Furthermore, the initialization routine of the <code class="docutils literal notranslate"><span class="pre">OptimalOperationProblem</span></code> creates an object of the <code class="docutils literal notranslate"><span class="pre">OptimizationProblem</span></code> class. This object serves as a container for the mathematical definitions of the numerical optimization problem, i.e. its variables, constraints and objective definition. To this end, the <code class="docutils literal notranslate"><span class="pre">OptimizationProblem</span></code> class provides the necessary abstractions to enable a solver-agnostic problem definition (see <code class="xref py py-class docutils literal notranslate"><span class="pre">mesmo.solutions.OptimizationProblem</span></code>). Continuing, the initialization routine of the <code class="docutils literal notranslate"><span class="pre">OptimalOperationProblem</span></code> defines the variables, constraints and objectives of the optimal operation problems. In this regard, the architecture of MESMO is structured such that variables, constraints and objective are implemented through methods within the <code class="docutils literal notranslate"><span class="pre">LinearElectricGridModelSet</span></code> and <code class="docutils literal notranslate"><span class="pre">DERModelSet</span></code> classes. This addresses the quality attributes for modifiability and modularity of the software. It ensures that 1) model interface changes are kept coherent with the optimization problem definitions and 2) variables, constraints and objective definitions can be obtained for each model individually. Therefore, the <code class="docutils literal notranslate"><span class="pre">OptimalOperationProblem</span></code> iterates through the methods <code class="docutils literal notranslate"><span class="pre">define_optimization_variables()</span></code>, <code class="docutils literal notranslate"><span class="pre">define_optimization_constraints()</span></code> and <code class="docutils literal notranslate"><span class="pre">define_optimization_objective()</span></code> of <code class="docutils literal notranslate"><span class="pre">LinearElectricGridModelSet</span></code> and <code class="docutils literal notranslate"><span class="pre">DERModelSet</span></code>, where the <code class="docutils literal notranslate"><span class="pre">OptimizationProblem</span></code> object is passed to each method in order to attach the variables, constraints and objective definitions. Once the initialization routine is completed, control is returned to the researcher.</p>
<p>The researcher then calls the <code class="docutils literal notranslate"><span class="pre">solve()</span></code> method of the <code class="docutils literal notranslate"><span class="pre">OptimalOperationProblem</span></code> object. This method calls the <code class="docutils literal notranslate"><span class="pre">solve()</span></code> method of the <code class="docutils literal notranslate"><span class="pre">OptimizationProblem</span></code> object, which in turn passes the optimization problem definition to the solver interface. It invokes the external optimization solver to obtain the solution.</p>
<p>Next, the researcher calls the <code class="docutils literal notranslate"><span class="pre">get_results()</span></code> method of the <code class="docutils literal notranslate"><span class="pre">OptimalOperationProblem</span></code> object. This method obtains the results for all model variables by invoking the <code class="docutils literal notranslate"><span class="pre">get_optimization_results()</span></code> methods of the <code class="docutils literal notranslate"><span class="pre">LinearElectricGridModelSet</span></code> and <code class="docutils literal notranslate"><span class="pre">DERModelSet</span></code>. The results are then transformed into the results variable structures which are expected in the <code class="docutils literal notranslate"><span class="pre">Results</span></code> object, which is then created by passing the relevant variables into the container. Eventually, the <code class="docutils literal notranslate"><span class="pre">get_results()</span></code> method returns the <code class="docutils literal notranslate"><span class="pre">Results</span></code> object to the researcher.</p>
</section>
</section>
<section id="allocation-structures">
<h2>Allocation structures<a class="headerlink" href="#allocation-structures" title="Permalink to this heading">#</a></h2>
<section id="dependencies">
<h3>Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this heading">#</a></h3>
<img alt="" class="invert" id="fig-architecture-container-view" src="_images/architecture_container_view.png" />
<p><strong>Container view of MESMO, highlighting the external software dependencies.</strong></p>
<p>The <a class="reference internal" href="#fig-architecture-container-view"><span class="std std-ref">container view</span></a> highlights the main dependencies of the current implementation of MESMO. The primary programming language of MESMO is Python, such that all modules in the <a class="reference internal" href="#fig-architecture-overview-detailed"><span class="std std-ref">context view</span></a> are implemented in this language. The further dependencies of MESMO are all Python packages, which ensures straightforward dependency management through the Python setup and package management facilities. On the modeling side, MESMO utilizes the <code class="docutils literal notranslate"><span class="pre">cobmo</span></code> and <code class="docutils literal notranslate"><span class="pre">OpenDSSDirect.py</span></code>, where <code class="docutils literal notranslate"><span class="pre">cobmo</span></code> implements the underlying mathematical models for <code class="docutils literal notranslate"><span class="pre">FlexibleBuildingModel</span></code> and <code class="docutils literal notranslate"><span class="pre">OpenDSSDirect.py</span></code> serves as an interface to OpenDSS in <code class="docutils literal notranslate"><span class="pre">ElectricGridModelOpenDSS</span></code> as well as <code class="docutils literal notranslate"><span class="pre">PowerFlowSolutionOpenDSS</span></code>. The <code class="docutils literal notranslate"><span class="pre">sqlite3</span></code> provides low-level interfaces for interacting with the internal SQLITE database, i.e. <code class="docutils literal notranslate"><span class="pre">database.sqlite</span></code>. The packages <code class="docutils literal notranslate"><span class="pre">plotly</span></code> and <code class="docutils literal notranslate"><span class="pre">dash</span></code> provide plotting and dashboarding functionalities, where <code class="docutils literal notranslate"><span class="pre">dash</span></code> will serve the future implementation of a web-based GUI out of MESMO. The <a class="reference external" href="https://www.cvxpy.org/"><code class="docutils literal notranslate"><span class="pre">cvxpy</span></code></a> package implements a convex optimization problem modeling framework and interfaces to various open-source and commercial solvers. In addition to using <code class="docutils literal notranslate"><span class="pre">cvxpy</span></code> as a generalized solver interface, MESMO also utilizes <code class="docutils literal notranslate"><span class="pre">gurobipy</span></code> to directly interface Gurobi in order to achieve performance improvements for large scenarios. Further direct solver interfaces are intended to be added on an as-need basis.</p>
</section>
<section id="repository-structure">
<h3>Repository structure<a class="headerlink" href="#repository-structure" title="Permalink to this heading">#</a></h3>
<img alt="" class="invert" id="fig-architecture-repository-structure" src="_images/architecture_repository_structure.png" />
<p><strong>Repository structure of MESMO.</strong></p>
<p>MESMO is intended as a software system that is deployed to individual workstations akin to a traditional desktop application, where all data and dependencies are kept local. In line with this, the components of MESMO are fully contained within a single software repository. The repository structure, i.e. file structure, of MESMO follows the recommended Python package structure from (Reitz and Schlusser 2016) as depicted <a class="reference internal" href="#fig-architecture-repository-structure"><span class="std std-ref">above</span></a>. The repository is implemented as a <a class="reference external" href="https://git-scm.com/">Git repository</a> for version control and is hosted at <a class="reference external" href="https://github.com/mesmo-dev/mesmo">GitHub</a>.</p>
<p>The main code base of the MESMO Python package is contained within the <code class="docutils literal notranslate"><span class="pre">mesmo</span></code> directory. The file <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code> simply contains import statements for the individual modules, such that all modules are loaded when importing MESMO. The remaining Python files in the <code class="docutils literal notranslate"><span class="pre">mesmo</span></code> directory represent the modules from <a class="reference internal" href="#fig-architecture-overview-detailed"><span class="std std-ref">the component view</span></a>, where Python interprets the file names as module names. Additionally, this directory contains the default configuration parameters in <code class="docutils literal notranslate"><span class="pre">config_default.yml</span></code> and the <code class="docutils literal notranslate"><span class="pre">database_schema.sql</span></code> file, which contains declarations for the data-structure of the internal SQL database, i.e. <code class="docutils literal notranslate"><span class="pre">database.sqlite</span></code>. In principle, the <code class="docutils literal notranslate"><span class="pre">mesmo</span></code> directory only contains code and declarative information but strictly no scenario or model data definitions or custom execution scripts.</p>
<p>The scenario and model data are contained within the <code class="docutils literal notranslate"><span class="pre">data</span></code> directory. This directory consists of CSV files in <a class="reference internal" href="data_reference.html"><span class="std std-doc">MESMO data format</span></a>, which define example test case scenario data. The CSV files are organized into sub-directories for the individual test cases. The <code class="docutils literal notranslate"><span class="pre">data</span></code> directory further contains the <code class="docutils literal notranslate"><span class="pre">database.sqlite</span></code> file for the internal database in SQLITE format, which is created locally upon first run of MESMO and initially will contain the example test case definitions from the CSV files.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">docs</span></code> directory contains the software documentation for MESMO, which is based on the <a class="reference external" href="https://github.com/sphinx-doc/sphinx">Sphinx documentation builder</a>. The directory contains markdown (MD) files for each section of the documentation and Sphinx configuration files and other assets of the documentation. The documentation is <a class="reference external" href="https://github.com/mesmo-dev/mesmo/actions/workflows/documentation.yml">automatically built</a> via <a class="reference external" href="https://github.com/features/actions">GitHub Actions</a> and deployed to <a class="reference external" href="https://pages.github.com/">GitHub Pages</a> whenever changes are pushed to the repository. Consequently, the documentation is made available for users online in HTML format.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">examples</span></code> directory contains example run scripts, which demonstrate typical use cases of MESMO. This directory and online documentation are intended as the main entry point for new users. Therefore, these examples are highly commented and serve as templates for custom applications utilizing the MESMO high-level and low-level interfaces. For developers, the <code class="docutils literal notranslate"><span class="pre">examples</span></code> directory contains a <code class="docutils literal notranslate"><span class="pre">development</span></code> sub-directory intended for work-in-progress scripts relating to the implementation of new features in MESMO.</p>
<p>Results data items of an example run scripts are by default stored into the <code class="docutils literal notranslate"><span class="pre">results</span></code> directory. This directory is provided for convenience to keep all MESMO-related data within a single location. The Git repository is configured to ignore any files in this directory, such that results are local-only and are not committed to the main repository.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">test</span></code> directory contains unit tests for the classes and functions of all modules. Although MESMO does not strictly follow test-driven development, unit tests are an important tool for collaborative development because they help reveal if code changes impact other functionalities in unexpected. To this end, the <code class="docutils literal notranslate"><span class="pre">test</span></code> directory contains one unit test script for each module of MESMO. The unit tests are automatically executed through GitHub Actions whenever changes are pushed to the repository and alerts to developers are triggered on test failures.</p>
<p>The aforementioned automations with GitHub Actions for documentation and tests are configured in the <code class="docutils literal notranslate"><span class="pre">.github</span></code> directory. In addition, the <code class="docutils literal notranslate"><span class="pre">workflows</span></code> sub-directory contains one YAML file in GitHub Actions format for each automation workflow.</p>
<p>The top-level repository folder contains several configuration and supplementary files. The file <code class="docutils literal notranslate"><span class="pre">config.yml</span></code> is the counterpart of <code class="docutils literal notranslate"><span class="pre">config_default.yml</span></code> and contains custom user-defined configuration parameters. This file is intended for local changes to the MESMO configuration. e.g. choice of optimization solver, and the Git repository is configured to ignore this file, such that it is not committed to the main repository. Finally, the file <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> defines installation routines and external package dependencies of MESMO, including references to the dependencies from <a class="reference internal" href="#fig-architecture-container-view"><span class="std std-ref">the container view</span></a>.</p>
<p>The CoBMo toolbox is included as a <a class="reference external" href="https://git-scm.com/docs/gitsubmodules">Git submodule</a> in the <code class="docutils literal notranslate"><span class="pre">cobmo</span></code> directory. This approach is chosen to allow for integrated development of CoBMo alongside MESMO. CoBMo also has not been released to any Python package index and thus could not integrated through <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> as another external dependency.</p>
<p>A few top-level files have been excluded in <a class="reference internal" href="#fig-architecture-repository-structure"><span class="std std-ref">the repository structure view</span></a> for the sake of brevity: <code class="docutils literal notranslate"><span class="pre">README.md</span></code> and <code class="docutils literal notranslate"><span class="pre">LICENSE</span></code> contain descriptive information for the repository and licensing information for its distribution. The <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code> and <code class="docutils literal notranslate"><span class="pre">.gitmodules</span></code> files contain configuration definitions for the Git repository. The file <code class="docutils literal notranslate"><span class="pre">environment.yml</span></code> defines an <a class="reference internal" href="installation.html#alternative-installation"><span class="std std-ref">alternative installation routine</span></a>.</p>
</section>
<section id="version-control">
<h3>Version control<a class="headerlink" href="#version-control" title="Permalink to this heading">#</a></h3>
<p>For the development of MESMO, <a class="reference external" href="https://git-scm.com/">Git</a> is utilized as version control system (VCS) for the code repository, which is hosted at <a class="reference external" href="https://github.com/mesmo-dev/mesmo">GitHub</a>. The management of branches in the Git repository is based on the <a class="reference external" href="http://nvie.com/posts/a-successful-git-branching-model/">git-flow principle</a>. To this end, the repository contains the following branches:</p>
<ul class="simple">
<li><p>The <strong>master</strong> branch contains stable release versions of the repository. Changes to the master branch are only made when 1) fixing a critical bug or 2) publishing a new release. Only administrators of the repository can send and merge pull requests to this branch.</p></li>
<li><p>The <strong>develop</strong> branch is intended as the main branch for development, i.e. always containing the latest code base. The develop branch will thus contain the latest changes which have not yet been thoroughly tested and released to the master branch. Anyone can send pull requests to develop, which will then be merged by administrators.</p></li>
<li><p>Multiple <strong>feature</strong> branches can be created to develop new features simultaneously. The idea is to keep unstable development or improvement works separately from the main develop branch. Once the work is complete, a pull request is created for the feature branch to be merged into the develop branch.</p></li>
</ul>
<p>Every time the master branch changes, a new version number is defined according to the <a class="reference external" href="https://semver.org/">semantic versioning principle</a>:</p>
<ol class="arabic simple">
<li><p>New releases cause a changing version number in the first digit for major changes and in the second digit for minor changes (e.g. from 0.1.1 to 0.2.0).</p></li>
<li><p>Bug fixes cause a changing version number in the third digit (e.g. from 0.1.1 to 0.1.2).</p></li>
</ol>
</section>
</section>
<section id="appendix">
<h2>Appendix<a class="headerlink" href="#appendix" title="Permalink to this heading">#</a></h2>
<section id="use-case-modeling">
<h3>Use case modeling<a class="headerlink" href="#use-case-modeling" title="Permalink to this heading">#</a></h3>
<img alt="" class="invert" id="fig-software-use-cases" src="_images/software_use_cases.png" />
<p><strong>Use case diagram for MESMO.</strong></p>
<p>As a foundation for MESMO’s software architecture development, specific uses cases for MESMO are outlined in the following, which then form the basis for identifying the <a class="reference internal" href="#functional-requirements">functional requirements</a>. The <a class="reference internal" href="#fig-software-use-cases"><span class="std std-ref">above figure</span></a> depicts the use case diagram for MESMO. The following possible stakeholders in district-scale MESs are included as actors (the term “stakeholder” is used interchangeably with “actor”) in the use case diagram:</p>
<ul class="simple">
<li><p>The <strong>system operator</strong> is responsible for maintaining and operating the district-scale energy system. This stakeholder is interested in modeling and optimizing short-term to medium-term dispatch decisions.</p></li>
<li><p>The <strong>system planner</strong> looks at the long-term operation and upgrading of the district-scale energy system. This stakeholder seeks to model future developments and optimizing long-term investment decisions.</p></li>
<li><p>The <strong>decision-maker</strong>, e.g. policy maker or utility executive, takes responsibility for the strategic development of the district-scale energy system. This stakeholder is primarily interested in evaluating results prepared by other stakeholders.</p></li>
<li><p>The <strong>researcher</strong> works on research and development tasks in the context of district-scale energy systems, e.g. investigation of novel operation strategies. To this end, the researcher is associated with the most diverse set of use cases.</p></li>
</ul>
<p>These stakeholders are identified through observation of the fundamental activities in research and corporate contexts. MES studies are typically performed in an exploratory fashion in the research context, i.e. the model and problem formulation are continually iterated and require a high degree of modifiability. In the corporate context, the focus lies on obtaining insights in a highly effective manner, i.e. results for a study should be obtained quickly and reliably. Since activities in the corporate context are repeating continuously, the automation of typical tasks is a crucial concern. Both research and corporate work is often structured in projects with regular reporting intervals, where the upper-level funding agency expects results to be presented in a highly convenient fashion. These different concerns are best captured through the proposed classification of stakeholders into researcher, system operator, system planner and decision-maker.</p>
<p><a class="reference internal" href="#fig-software-use-cases"><span class="std std-ref">The use case diagram</span></a> highlights that use cases can be distinguished into 1) high-level functionality (U1 to U5) and 2) low-level functionality (U6 to U22). On the one hand, the system operator, system planner and decision-maker are interested in off-the-shelf solutions for their particular problems, e.g. running operation and planning problems (U2, U3, U4). On the other hand, the researcher requires more granular abilities, e.g. for setting up a custom optimization problem based on the bundled convex grid and DER models (U15, U16, U17).</p>
<p>On the high-level side, U1 describes the use case for defining scenario data to set up a test case for a district-scale energy system. The use cases U2 and U3 characterize the need to run nominal and optimal operation problems. The nominal operation problem (U2) is a simulation where inputs are provided for control variables, whereas the optimal operation problem (U3) determines optimal values for control variables based a numerical optimization. The use case U4 encapsulates solving a numerical optimization problem for the optimal energy system design and sizing. Results for each problem run should be returned in U2, U3 and U4 but U5 additionally describes a use case for producing results plots to visualize the outcomes of the problem runs. The system operator is uses U1, U2, U3 and U5, whereas the system planner is associated with U1, U4 and U5. The decision-maker relies on system operator, system planner or researcher to prepare results, thereby only interacting with MESMO through U5.</p>
<p>On the low-level side, U9, U10 and U11 describe the ability to define data for electric grid, thermal grid and DERs of a district-scale energy system. U9, U10 and U11 are included in U1 but exposed individually on the low-level side due to the more granular interest of the researcher. U6 and U7 are use cases for solving simulation problems and optimization problems, where U6 is used by U2 and U7 is used by U3 / U4. The researcher is directly associated U6 and U7 to enable modifications, e.g. adding additional constraints of the specific optimization problem. Solving a simulation problem in U6 uses U12, U13 and U14 for obtaining non-convex grid models and DER time series models. Solving an optimization problem in U7 additionally uses U15, U16 and U17 to obtain convex models for electric grid, thermal grid and DERs. Note that U12 to U17 are also associated with the researcher to enable constructing custom problem types directly from models. Once simulation or optimization problems have been solved in U2, U3, U4, U6 or U7, the solution results are obtained using U8, which uses U18 to U22 to get individual results components. Producing results plots in U5 correspondingly uses U8. The use cases U18, U19 and U20 are for obtaining results for the control, state and output variables of electric grid, thermal grid and DERs. Additionally, U21 and U22 describe the ability to retrieve DLMP values for electric and thermal grids. The researcher is directly associated with U18 to U22 as well.</p>
</section>
<section id="functional-requirements">
<h3>Functional requirements<a class="headerlink" href="#functional-requirements" title="Permalink to this heading">#</a></h3>
<p>The functional requirements for MESMO are directly derived from the use case modeling in the previous section. The functional requirements in this section restate the outlined use cases. Therefore, the following does not constitute a formal requirements document but rather a listing of grouped use case descriptions:</p>
<ol class="arabic simple">
<li><p>To address U2, U3 and U4, MESMO must provide high-level programmable interfaces for the system planner and the system operator. These interfaces should be programmable such that these stakeholders can build custom workflows based on MESMO in at least one high-level programming language, such as Python or MATLAB. The high-level interfaces should implement the following problem types:</p>
<ul class="simple">
<li><p>Nominal operation problem, i.e. a simulation problem for the district-scale energy system, considering fixed nominal input for DERs’ power time series.</p></li>
<li><p>Optimal operation problem, i.e. a numerical optimization problem for the minimization of operation cost, subject to the operational constraints of the district-scale energy system and its DERs.</p></li>
<li><p>Optimal planning problem, i.e. a numerical optimization problem for the minimization of investment cost and operation cost, subject to the capacity and operational constraints of the district-scale energy system and its DERs.</p></li>
</ul>
</li>
<li><p>To address U5, MESMO must implement a GUI for the decision-maker to analyze and interact with the results for scenarios that any other stakeholder has prepared. This GUI is intended as mean for demonstration of results in high-level manner to facilitate the dissemination of findings from technical to non-technical personnel. Thus, the GUI takes over the role of manual post-processing and results visualization workflows from system planner, system operator or researchers.</p></li>
<li><p>With regards to U12 to U22, MESMO must implement low-level programmable interfaces for the researcher, which are characterized by highly granular access to the model formulations. To this end, MESMO must ensure that models are subdivided into reasonably small modules in accordance with their mathematical formulation, which enables the researcher to modify or replace any part of the modeling tool-chain with custom mathematical expression. Thus, the researcher must be able to test new mathematical approaches and define highly custom workflows depending on the study topic at hand. The fundamental structure of the low-level interfaces is outlined as:</p>
<ul class="simple">
<li><p>Electric grid modeling:</p>
<ul>
<li><p>Obtain nodal and branch admittance matrices and incidence matrices for the electric grid .</p></li>
<li><p>Obtain steady state power flow solution for nodal voltage, branch flows and losses via fixed-point algorithm.</p></li>
<li><p>Obtain sensitivity matrices of global linear approximate electric grid model.</p></li>
</ul>
</li>
<li><p>Thermal grid modeling:</p>
<ul>
<li><p>Obtain nodal and branch incidence matrices and friction factors.</p></li>
<li><p>Obtain thermal power flow solution for nodal pressure head, branch flows and pumping losses.</p></li>
<li><p>Obtain sensitivity matrices of global linear approximate thermal grid model.</p></li>
</ul>
</li>
<li><p>DER modeling:</p>
<ul>
<li><p>Obtain time series models for fixed DERs.</p></li>
<li><p>Obtain state-space models for flexible DERs.</p></li>
<li><p>Enable the modeling of fixed loads, fixed generators, flexible loads, flexible generators, ESSs, EV chargers, DHSs and DCSs. Enable flexible building modeling through the <a class="reference external" href="https://doi.org/10.5281/ZENODO.3523539">CoBMo toolbox</a>.</p></li>
</ul>
</li>
<li><p>MES operation:</p>
<ul>
<li><p>Obtain and solve nominal operation problems, i.e. steady-state simulations, of electric and thermal grids with DERs, i.e. MESs.</p></li>
<li><p>Define and solve numerical optimization problem for combined optimal operation for electric and thermal grids with DERs, i.e. MESs.</p></li>
<li><p>Obtain DLMPs for the electric and thermal grids.</p></li>
</ul>
</li>
</ul>
</li>
<li><p>Regarding U1, U9, U10 and U11, MESMO must define a coherent scenario input data format comprising a complete set of model parameters for electric grid models, thermal grid models and DER models. The input data must be sufficiently well documented for system planner, system operator or researchers to define the test cases directly. Furthermore, MESMO must be enabled for interacting with common district energy system data formats, such as the MATPOWER format and the OpenDSS format.</p></li>
<li><p>To address U8 internally, MESMO must define a standardized results data object. The results object serves as an interface between high-level problem type definitions and the low-level model definitions. To this end, the results object ensures that post-processing workflows can be developed independently of the specific models or interfaced problems. In terms of MESMO development, this also facilitates standardization for inputs to the GUI.</p></li>
<li><p>Lastly, U6 requires MESMO to interface numerical solvers for convex optimization. Therefore, MESMO must define variables, constraints and objective for the optimization problems and retrieve both primal and dual variable results.</p></li>
</ol>
<p>The functional requirements state what the software system must do. During the development of the software architecture, these functionalities or use cases are assigned to specific modules of the software. However, as stated in (Bass, Clements, and Kazman 2013, p. 65, Section 4.2):</p>
<blockquote>
<div><p>Functionality does not determine architecture.</p>
</div></blockquote>
<p>This is only partly true for MESMO because the structure of code elements is indeed aligned with the underlying mathematical modeling as highlighted in point 3 above. However, on a higher level, the software architecture is primarily informed by the quality attributes outlined in the next section.</p>
</section>
<section id="quality-attributes">
<h3>Quality attributes<a class="headerlink" href="#quality-attributes" title="Permalink to this heading">#</a></h3>
<p>The gathering of quality attributes focuses on narrowing down the architecturally significant requirements that inform architectural decisions. For MESMO, the quality attributes were gathered by assessing the business goals of stakeholders during the project Platform for Interconnected Micro-Grid Operation (PRIMO), which is a collaboration between TUMCREATE, EDF Lab Singapore, Singapore Institute for Technology (SIT) and Nanyang Technological University (NTU). In this project, MESMO is intended as the underlying library for expressing optimal operation problems in the context of urban micro-grids. To this end, the discussion among corporate and research entities in the project served as a valuable source for the definition of software quality attributes.</p>
<p>As a valuable structure for documenting quality attributes, (Bass, Clements, and Kazman 2013, p. 304, Section 16.4) proposes the utility tree, i.e. a list-based format. In this format, the first level defines the quality attribute type, the second level defines the attribute refinement and the third level describes the software quality attribute. Each item is labeled with a pair of “high”, “medium” and “low”, where the first label indicates the software quality attributes importance and the second level indicates its effect on the architecture. Based on this format, the quality attributes for MESMO are outlined as follows:</p>
<ul class="simple">
<li><p><strong>Configurability</strong></p>
<ol class="arabic simple">
<li><p>Custom mathematical models</p>
<ul>
<li><p>Description: MESMO must enable the combination of built-in and custom externally defined mathematical models for the researcher. The researcher must be able to setup such a custom test case in less than a week.</p></li>
<li><p>Importance: high</p></li>
<li><p>Impact on architecture: medium</p></li>
</ul>
</li>
<li><p>Custom problem types</p>
<ul>
<li><p>Description: The software must support the formulation of custom simulation or optimization problems. The researcher must be able to define custom problem types based on the MESMO low-level APIs within less than 1 week.</p></li>
<li><p>Importance: high</p></li>
<li><p>Impact on architecture: medium</p></li>
</ul>
</li>
</ol>
</li>
<li><p><strong>Interoperability</strong></p>
<ol class="arabic simple">
<li><p>Optimization solver compatibility</p>
<ul>
<li><p>Description: MESMO must enable the utilization of the most widely available convex optimization solvers. The user must be able to setup and configure a different solver within less than 10 minutes.</p></li>
<li><p>Importance: medium</p></li>
<li><p>Impact on architecture: high</p></li>
</ul>
</li>
<li><p>Software dependencies</p>
<ul>
<li><p>Description: MESMO must be able to run on Windows, Mac and Linux without requiring the installation of commercial software. New users must be able to complete the software setup within less than 1 hour.</p></li>
<li><p>Importance: medium</p></li>
<li><p>Impact on architecture: medium</p></li>
</ul>
</li>
</ol>
</li>
<li><p><strong>Modifiability</strong></p>
<ol class="arabic simple">
<li><p>Extending mathematical models</p>
<ul>
<li><p>Description: MESMO must support the extension or change of mathematical models for electric grids, thermal grids and DERs. Fundamental changes to modeling methodologies must be implemented by a developer within less than one month.</p></li>
<li><p>Importance: medium</p></li>
<li><p>Impact on architecture: high</p></li>
</ul>
</li>
<li><p>Extending problem types</p>
<ul>
<li><p>Description: MESMO must support the definition of additional MES problem types. The implementation of a new problem type must be completed by a developer within less than one month.</p></li>
<li><p>Importance: medium</p></li>
<li><p>Impact on architecture: high</p></li>
</ul>
</li>
</ol>
</li>
<li><p><strong>Performance</strong></p>
<ol class="arabic simple">
<li><p>Solution time</p>
<ul>
<li><p>Description: MESMO must facilitate reasonable solution time for medium-scale problems. Optimal operation problems for MESs with 1000 grid nodes and 1000 DERs and 48 time steps must be completed within less than 10 minutes.</p></li>
<li><p>Importance: medium</p></li>
<li><p>Impact on architecture: medium</p></li>
</ul>
</li>
<li><p>Resource utilization</p>
<ul>
<li><p>Description: The software must be able to run on medium-range business laptops, where the solution of optimal operation problems for MESs with 1000 grid nodes and 1000 DERs and 48 time steps must be completed without exceeding the resources of the system.</p></li>
<li><p>Importance: low</p></li>
<li><p>Impact on architecture: medium</p></li>
</ul>
</li>
</ol>
</li>
<li><p><strong>Testability</strong></p>
<ol class="arabic simple">
<li><p>Unit testing coverage</p>
<ul>
<li><p>Description: All mathematical modeling methodologies implemented in MESMO must be individually testable. Test coverage of unit test must be above 90 %.</p></li>
<li><p>Importance: low</p></li>
<li><p>Impact on architecture: low</p></li>
</ul>
</li>
</ol>
</li>
<li><p><strong>Usability</strong></p>
<ol class="arabic simple">
<li><p>Learning curve</p>
<ul>
<li><p>Description: The software must provide freely accessible documentation to facilitate untrained users to setup and use MESMO in less than 1 month.</p></li>
<li><p>Importance: medium</p></li>
<li><p>Impact on architecture: medium</p></li>
</ul>
</li>
<li><p>Input error handling</p>
<ul>
<li><p>Description: This software quality attribute also considers the ability to detect failures that may not be obvious to the user, e.g. an incorrect power flow solution due to an error in the input data.</p></li>
<li><p>Importance: medium</p></li>
<li><p>Impact on architecture: low</p></li>
</ul>
</li>
</ol>
</li>
</ul>
<p>Note that the quality attributes are ordered alphabetically and not by importance. Note also that only the most important quality attributes in the context of MESMO are included in this list.</p>
</section>
</section>
<section id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p>Bass, Len, Paul Clements, and Rick Kazman. 2013. <em>Software Architecture in Practice</em>. 3rd ed. SEI Series in Software Engineering. Upper Saddle River, NJ: Addison-Wesley.</p></li>
<li><p>Martin, Robert C. 2018. <em>Clean Architecture: A Craftsman’s Guide to Software Structure and Design</em>. Robert C. Martin Series. London, England: Prentice Hall.</p></li>
<li><p>Reitz, Kenneth, and Tanya Schlusser. 2016. <em>The Hitchhiker’s Guide to Python: Best Practices for Development</em>. Sebastopol, California: O’Reilly Media, Inc. <a class="reference external" href="https://docs.python-guide.org/">https://docs.python-guide.org/</a>.</p></li>
</ul>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="data_reference.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Data reference</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="examples.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Examples</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2018-2022, TUMCREATE
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Architecture</a><ul>
<li><a class="reference internal" href="#overview">Overview</a><ul>
<li><a class="reference internal" href="#structures-and-views">Structures and views</a></li>
<li><a class="reference internal" href="#stakeholders">Stakeholders</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-structures">Module structures</a><ul>
<li><a class="reference internal" href="#context-view">Context view</a></li>
<li><a class="reference internal" href="#component-view">Component view</a></li>
<li><a class="reference internal" href="#configuration-module">Configuration module</a></li>
<li><a class="reference internal" href="#utility-module">Utility module</a></li>
<li><a class="reference internal" href="#data-interface-module">Data interface module</a></li>
<li><a class="reference internal" href="#electric-grid-models-module">Electric grid models module</a></li>
<li><a class="reference internal" href="#thermal-grid-models-module">Thermal grid models module</a></li>
<li><a class="reference internal" href="#der-models-module">DER models module</a></li>
<li><a class="reference internal" href="#problems-module">Problems module</a></li>
</ul>
</li>
<li><a class="reference internal" href="#workflow-structures">Workflow structures</a><ul>
<li><a class="reference internal" href="#nominal-operation-problem">Nominal operation problem</a></li>
<li><a class="reference internal" href="#optimal-operation-problem">Optimal operation problem</a></li>
</ul>
</li>
<li><a class="reference internal" href="#allocation-structures">Allocation structures</a><ul>
<li><a class="reference internal" href="#dependencies">Dependencies</a></li>
<li><a class="reference internal" href="#repository-structure">Repository structure</a></li>
<li><a class="reference internal" href="#version-control">Version control</a></li>
</ul>
</li>
<li><a class="reference internal" href="#appendix">Appendix</a><ul>
<li><a class="reference internal" href="#use-case-modeling">Use case modeling</a></li>
<li><a class="reference internal" href="#functional-requirements">Functional requirements</a></li>
<li><a class="reference internal" href="#quality-attributes">Quality attributes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#references">References</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=b3ba4146"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="_static/scripts/furo.js?v=32e29ea5"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    </body>
</html>